/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/client/js/playlist.js":
/*!***********************************!*\
  !*** ./src/client/js/playlist.js ***!
  \***********************************/
/***/ (() => {

eval("var musicImg = document.querySelector(\"#musicImg\");\nvar title = document.querySelector(\"#musicTitle\");\nvar artist = document.querySelector(\"#musicArtist\");\nvar musicData = [{\n  title: \"Golden Hour\",\n  artist: \"JVKE\",\n  image: \"/static/images/jvke1.jpeg\",\n  source: \"/static/audios/Golden hour.mp3\"\n}, {\n  title: \"Edge of Desire\",\n  artist: \"John Mayer\",\n  image: \"/static/images/John-Mayer-2.jpg\",\n  source: \"/static/audios/Edge of Desire-John Mayer.mp3\"\n}, {\n  title: \"Gravity\",\n  artist: \"John Mayer\",\n  image: \"/static/images/John-Mayer.jpg\",\n  source: \"/static/audios/Gravity-John Mayer.mp3\"\n}, {\n  title: \"Hype Boy\",\n  artist: \"Newjeans\",\n  image: \"/static/images/newjeans.jpeg\",\n  source: \"/static/audios/Hype Boy.mp3\"\n}, {\n  title: \"Free Fallin' \",\n  artist: \"John Mayer\",\n  image: \"/static/images/John-Mayer-4.jpeg\",\n  source: \"/static/audios/Free Fallin'.mp3\"\n}, {\n  title: \"I AM\",\n  artist: \"IVE\",\n  image: \"/static/images/ive.jpg\",\n  source: \"/static/audios/I AM.mp3\"\n}, {\n  title: \"The Age of Worry\",\n  artist: \"John Mayer\",\n  image: \"/static/images/John-Mayer-2.jpg\",\n  source: \"/static/audios/The Age of Worry.mp3\"\n}];\nvar audio = new Audio(musicData);\naudio.preload = \"auto\";\naudio.loop = \"false\";\nvar playtime = document.getElementById(\"elapsed\");\nvar timeline = document.getElementById(\"slider\");\nvar starttime = document.getElementById(\"starttime\");\nvar endtime = document.getElementById(\"endtime\");\nvar duration;\nstarttime.innerHTML = \"0:00\";\nendtime.innerHTML = \"-:--\"; // starttime 부분에 명시해야할 것 = 총 길이\n// timelineWidth 는 timeline - playtime이며, 재생시간 말고 남은 길이를 뜻함.\n\nvar timelineWidth = timeline.offsetWidth - playtime.offsetWidth;\n\nfunction timeUpdate() {\n  starttime.innerHTML = \"0:00\";\n  endtime.innerHTML = \"0:00\";\n  var durationTime = Math.floor(duration);\n  var seconds = Math.floor(audio.currentTime);\n  var playPercent = timelineWidth * (seconds / durationTime);\n  playtime.style.width = playPercent + \"px\"; // 시작시간이 늘어나게 만들 예정\n\n  if (durationTime <= 9) {\n    endtime.innerHTML = \"0:0\".concat(durationTime);\n  } else if (durationTime >= 10 && durationTime <= 59) {\n    endtime.innerHTML = \"0:\".concat(durationTime);\n  } else if (durationTime >= 60) {\n    var endtimeMin = Math.floor(durationTime / 60);\n    var endtimeSec = durationTime - 60 * endtimeMin;\n\n    if (endtimeSec <= 9) {\n      endtime.innerHTML = \"\".concat(endtimeMin, \":0\").concat(endtimeSec);\n    } else {\n      endtime.innerHTML = \"\".concat(endtimeMin, \":\").concat(endtimeSec);\n    }\n  } // 시간표현 부분 하면 됨.\n\n\n  if (seconds <= 9) {\n    starttime.innerHTML = \"0:0\".concat(seconds);\n  } else if (seconds >= 10 && seconds <= 59) {\n    starttime.innerHTML = \"0:\".concat(seconds);\n  } else if (seconds >= 60) {\n    var min = Math.floor(seconds / 60);\n    var sec = seconds - 60 * min;\n    sec <= 9 ? starttime.innerHTML = \"\".concat(min, \":0\").concat(sec) : starttime.innerHTML = \"\".concat(min, \":\").concat(sec);\n  }\n}\n\naudio.addEventListener(\"timeupdate\", timeUpdate, false); // const musicIndex = 0;\n\nvar musicIndex = 0;\n\nvar loadMusic = function loadMusic() {\n  audio.src = musicData[musicIndex].source;\n  title.innerHTML = musicData[musicIndex].title;\n  artist.innerHTML = musicData[musicIndex].artist;\n  musicImg.src = musicData[musicIndex].image;\n};\n\nvar playlist = document.querySelector(\"#musiclistDiv\");\nvar prev = document.querySelector(\"#prev\");\nvar play = document.querySelector(\"#play\");\nvar pause = document.querySelector(\"#pause\");\nvar next = document.querySelector(\"#next\");\nvar mute = document.querySelector(\"#mute\");\nvar volume = document.querySelector(\"#volume\");\nvar ul = document.createElement(\"ul\");\nul.id = \"musiclistUl\";\nvar hidden = \"hidden\";\n\nvar showPlaylist = function showPlaylist() {\n  musicData.forEach(function (song) {\n    var li = document.createElement(\"li\");\n    var p = document.createElement(\"p\");\n    var span = document.createElement(\"span\"); // each song title and artist\n\n    p.id = \"songTitle\";\n    p.innerHTML = song.title;\n    span.id = \"songArtist\";\n    span.innerHTML = song.artist;\n    li.append(p);\n    li.append(span);\n    ul.append(li);\n\n    var playMusic = function playMusic() {\n      audio.src = song.source;\n      title.innerHTML = song.title;\n      artist.innerHTML = song.artist;\n      musicImg.src = song.image;\n      play.classList.add(hidden);\n      pause.classList.remove(hidden);\n      audio.play();\n    };\n\n    var pauseMusic = function pauseMusic() {\n      play.classList.remove(hidden);\n      pause.classList.add(hidden);\n      audio.pause();\n    };\n\n    li.addEventListener(\"click\", playMusic);\n    pause.addEventListener(\"click\", pauseMusic);\n  });\n  playlist.append(ul);\n};\n\nvar onPlay = function onPlay() {\n  if (audio.ended) {\n    musicIndex++;\n\n    if (musicIndex > musicData.length - 1) {\n      musicIndex = 0;\n    }\n\n    loadMusic(musicData[musicIndex]);\n    onPlay();\n  }\n\n  play.classList.add(hidden);\n  pause.classList.remove(hidden);\n  audio.play();\n};\n\nvar onPause = function onPause() {\n  play.classList.remove(hidden);\n  pause.classList.add(hidden);\n  audio.pause();\n};\n\nvar onPrev = function onPrev() {\n  musicIndex--;\n\n  if (musicIndex < 0) {\n    musicIndex = musicData.length - 1;\n  }\n\n  loadMusic(musicData[musicIndex]);\n  onPlay();\n};\n\nvar onNext = function onNext() {\n  musicIndex++;\n\n  if (musicIndex > musicData.length - 1) {\n    musicIndex = 0;\n  }\n\n  loadMusic(musicData[musicIndex]);\n  onPlay();\n};\n\nvar onMute = function onMute() {\n  mute.classList.add(hidden);\n  volume.classList.remove(hidden);\n  audio.volume = 0;\n};\n\nvar onVolume = function onVolume() {\n  mute.classList.remove(hidden);\n  volume.classList.add(hidden);\n  audio.volume = 1;\n};\n\naudio.addEventListener(\"canplaythrough\", function () {\n  duration = audio.duration;\n}, false);\nwindow.addEventListener(\"load\", loadMusic);\nplay.addEventListener(\"click\", onPlay);\npause.addEventListener(\"click\", onPause);\nprev.addEventListener(\"click\", onPrev);\nnext.addEventListener(\"click\", onNext);\nmute.addEventListener(\"click\", onMute);\nvolume.addEventListener(\"click\", onVolume);\nshowPlaylist();\n\n//# sourceURL=webpack://tomato/./src/client/js/playlist.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/client/js/playlist.js"]();
/******/ 	
/******/ })()
;